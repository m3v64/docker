auth:
  secret-key: ${GLANCE_SECRET_KEY}
  users:
    admin:
      password: ${GLANCE_ADMIN_PASSWORD}

server:
  proxied: true
  port: 9080

theme:
  background-color: 50 1 6
  primary-color: 157 47 65
  contrast-multiplier: 1.4
  positive-color: 165 83 85
  negative-color: 240 21 32
  disable-picker: false

  presets:
    mint:
      background-color: 186 21 20
      contrast-multiplier: 1.2
      primary-color: 97 13 80
      positive-color: 186 31 30
      negative-color: 186 11 10

    orange-dark:
      background-color: 50 1 6
      primary-color: 24 97 58
      contrast-multiplier: 0.8
      positive-color: 24 100 78
      negative-color: 24 87 38

    black-white:
      light: true
      background-color: 0 0 95
      primary-color: 0 0 10
      positive-color: 0 0 30
      negative-color: 0 0 70

    purple:
      background-color: 231 15 21
      primary-color: 265 89 79
      contrast-multiplier: 1.2
      positive-color: 135 94 66
      negative-color: 0 100 67

    blue-dark:
      background-color: 240 21 15
      contrast-multiplier: 1.2
      primary-color: 217 92 83
      positive-color: 115 54 76
      negative-color: 347 70 65

    blue-light:
      light: true
      background-color: 220 23 95
      contrast-multiplier: 1.0
      primary-color: 217 92 53
      positive-color: 109 58 40
      negative-color: 347 87 44

pages:
  - name: Home
    show-mobile-header: true
    columns:
      - size: small
        widgets:
        - type: custom-api
          title: "Schedule"
          cache: 30m
          url: "http://glances-ical-api:8076/events?url=${ICAL_URL}&limit=5"
          template: |
            <div>
            {{ range .JSON.Array "events" }}
              {{ $title := replaceMatches ",.*" "" (.String "name") }}
              {{ $loc := replaceMatches ",.*" "" (findMatch "HEY-.*" (.String "location")) }}
              {{ $time := findMatch "\\d{2}:\\d{2}" (.String "start") }}
              {{ $end   := findMatch "\\d{2}:\\d{2}" (.String "end") }}
              <div style="display:flex; justify-content:space-between; align-items:flex-start; padding:6px 0;">
                <div style="width:175px; text-align:left;">
                  <div class="size-h3">{{ $title }}</div>
                    <div style="font-size:0.85rem; color:var(--muted);">{{ $loc }}</div>
                </div>
                <div style="text-align: right; width: 75px;">
                  <div class="color-primary size-h3"{{ .String "start" | parseTime "rfc3339" | toRelativeTime }}></div>
                  <div class="color-primary"> 
                    <div style="font-size:0.85rem; color:var(--muted);">{{ $time }} - {{ $end }}</div>
                  </div>
                </div>
              </div>
            {{ end }}
            </div>

        - type: calendar
          first-day-of-week: monday

      - size: full
        widgets:
          - type: videos
            channels:
              - UCXuqSBlHAE6Xw-yeJA0Tunw # Linus Tech Tips
              - UCR-DXc1voovS8nhAvccRZhg # Jeff Geerling
              - UCsBjURrPoezykLs9EqgamOA # Fireship
              - UCBJycsmduvYEL83R_U4JriQ # Marques Brownlee
              - UCHnyfMqiRRG1u-2MsSQLbXA # Veritasium

          - type: group
            widgets:
              - type: reddit
                subreddit: technology
                show-thumbnails: true
              - type: reddit
                subreddit: selfhosted
                show-thumbnails: true
          
      - size: small
        widgets:
        - type: clock
          time-format: 24h
          date-format: DD-MM-YYYY
          timezone: Europe/Amsterdam

        - type: weather
          location: Nijmegen
          units: metric
          hour-format: 24h

        - type: to-do

  - name: Servers
    columns:
      - size: small
        widgets:
        - type: monitor
          cache: 1m
          title: Sites
          style: compact
          sites:
            - title: Jellyfin
              url: https://jellyfin.m3v.dev
            - title: sonarr
              url: https://sonarr.m3v.dev
            - title: radarr
              url: https://radarr.m3v.dev
            - title: qbittorrent
              url: https://qbit.m3v.dev
            - title: prowlarr
              url: https://prowlarr.m3v.dev
            - title: komga
              url: https://komga.m3v.dev
            - title: suwayomi
              url: https://suwayomi.m3v.dev

      - size: full
        widgets:
          - type: docker-containers
            hide-by-default: false
      
      - size: small
        widgets:
          - type: server-stats
            servers:
              - type: local
                name: main pc
                hide-mountpoints-by-default: true

      # - size: small
      #   widgets:      
      #     - type: releases
      #       cache: 1d

      #       repositories:
      #         - glanceapp/glance
      #         - tailscale/tailscale
      #         - containrrr/watchtower
      #         - caddyserver/caddy
      #         - qmcgaw/gluetun
      #         - linuxserver/sonarr
      #         - linuxserver/radarr
      #         - linuxserver/qbittorrent
      #         - linuxserver/prowlarr
      #         - recyclarr/recyclarr
      #         - jellyfin/jellyfin
      #         - linuxserver/bitwarden
      #         - suwayomi/tachidesk
      #         - gotson/komga
      #         - sndxr/komf
      #         - flaresolverr/flaresolverr
